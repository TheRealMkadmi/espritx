{% extends 'views/layouts/contentLayoutMaster.html.twig' %}

{% block title %} Profile {% endblock %}

{% block page_style %}
    {# Page Css files #}
    <link rel="stylesheet" href="{{ asset('css/base/plugins/extensions/ext-component-sweet-alerts.css') }}">
    <link rel="stylesheet" href="{{ asset('css/base/pages/page-profile.css') }}">
    <style>
        .profile-img .avatar-wrapper {
            height: 100%;
            width: 100%;
        }

        .avatar-wrapper .avatar {
            height: 100%;
            width: 100%;
        }
    </style>
{% endblock %}
{% block vendor_style %}
    <link rel="stylesheet" href="{{ asset('vendors/css/animate/animate.min.css') }}">
    <link rel="stylesheet" href="{{ asset('vendors/css/extensions/sweetalert2.min.css') }}">
{% endblock %}

{% block content %}
    <div id="user-profile">

        <!-- profile info section -->
        <section id="profile-info">
            <div class="row">
                <!-- left profile info section -->

                <div class="col-lg-3 col-12 order-2 order-lg-1">
                    <!-- about -->
                    {% for group  in allgroups %}
                    <div class="card">
                        <div class="card-body">
                            <h5 class="mb-75">About</h5>
                            <p class="card-text">
                                {{ group.nomGroupe }}
                            </p>
                            <div class="mt-2">
                                {{ group.user.firstName }}
                            </div>
                            <div class="mt-2">
                                <img class="card-img" src="{{ asset('/uploads/brochures/'~group.image) }}" alt="{{ group.image }}" draggable="false" oncontextmenu="return false;" />
                            </div>
                            <div class="mt-2">
                                <h5 class="mb-75">
                                    <a  href="{{ path('new_membre_group', {'id': group.id,'idU':app.user.id}) }}"  >
                                        Rejoindre
                                    </a>
                                </h5>
                            </div>
                        </div>
                    </div>
                    <!--/ about -->
                    {% endfor %}
                </div>

                <!--/ left profile info section -->

                <!-- center profile info section -->
                <div class="col-lg-6 col-12 order-1 order-lg-2">
                    <!-- post 1 -->
                    {% include "views/content/posts/User/contentPosts.html.twig" %}
                </div>
                <!--/ center profile info section -->
            </div>

            <!-- reload button -->
            <div class="row">
                <div class="col-12 text-center">
                    <button type="button" class="btn btn-sm btn-primary block-element border-0 mb-1">Load More</button>
                </div>
            </div>
            <!--/ reload button -->
        </section>
        <!--/ profile info section -->
    </div>
{% endblock %}

{% block vendor_script %}
    <script src="{{ asset('vendors/js/extensions/sweetalert2.all.min.js') }}"></script>
    <script src="{{ asset('vendors/js/extensions/polyfill.min.js') }}"></script>
{% endblock %}

{% block page_script %}
    <script src="{{ asset('js/scripts/pages/page-profile.js') }}"></script>
    <script>
        $("#show-qc-qr").on('click', function () {
            Swal.fire({
                title: '{{ user.firstName ~ " " ~ user.lastName }}',
                text: 'Scan this QR code on your device.',
                imageUrl: '{{ url('make_quick_code', {"id": user.id}) }}',
                imageWidth: 200,
                imageHeight: 200,
                imageAlt: '{{ user.firstName ~ " " ~ user.lastName }}',
                customClass: {
                    confirmButton: 'btn btn-primary'
                },
                buttonsStyling: false
            });
        });
    </script>
{% endblock %}

